<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HPCombi: HPCombi</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HPCombi
   </div>
   <div id="projectbrief">High Performance Combinatorics in C++ using vector instructions v1.0.2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><a class="el" href="namespaceHPCombi.html">HPCombi</a> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="readme_sec"></a>
Readme</h1>
<p>You might want to have a look at <a href="https://github.com/libsemigroups/HPCombi/blob/main/README.md">the Readme in the sources</a>.</p>
<h1><a class="anchor" id="sec_philo"></a>
Philosophy</h1>
<p>This library provides high performance computations in combinatorics (hence its name). In practice we observe large speedups in several enumeration problems.</p>
<p>The main idea of the library is a way to encode data as a small sequence of small integers, that can be handled efficiently by a creative use of vector instructions. For example, on the current x86 machines, small permutations (N ≤ 16) are very well handled. Indeed thanks to machine instructions such as PSHUFB (Packed SHUFfle Bytes), applying a permutation on a vector only takes a few CPU cycles.</p>
<p>Further ideas are:</p><ul>
<li>Vectorization (MMX, SSE, AVX instructions sets) and careful memory alignment,</li>
<li>Careful memory management: avoid all dynamic allocation during the computation,</li>
<li>Avoid all unnecessary copies (it is often needed to rewrite the containers),</li>
<li>Due to combinatorial explosion, sets often don’t fit in memory or disk and are enumerated on the fly.</li>
</ul>
<p>Here are some examples, the speedup is in comparison to an implementation without vector instructions:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Operation   </th><th class="markdownTableHeadNone">Speedup    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Inverting a permutation   </td><td class="markdownTableBodyNone">1.28    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Sorting a list of bytes   </td><td class="markdownTableBodyNone">21.3    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Number of cycles of a permutation   </td><td class="markdownTableBodyNone">41.5    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Number of inversions of a permutation   </td><td class="markdownTableBodyNone">9.39    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Cycle type of a permutation   </td><td class="markdownTableBodyNone">8.94   </td></tr>
</table>
<h1><a class="anchor" id="sec_tips"></a>
Tips to the user</h1>
<p>Note that memory access can become a problem. If your algorithm stores many things, most of the time will be spent in fetching from RAM, not computing. The data structures your client code uses should preserve locality. You might want to compute some stats on data structure usage (eg avg size of buckets used, lengths of lists, lifetime of objects, etc.) and write custom data structure optimized for your usage profile.</p>
<p>This lib is implemented with speed in mind, not code safety. Eg. there are no checks when building a permutation, which could be invalid (like non injective).</p>
<p>We suggest having a look, in the menus above, at Classes → <a href="annotated.html">Class list</a>, esp. at the classes <a class="el" href="structHPCombi_1_1Perm16.html" title="Permutations of : A permutation is a bijective mapping of a set of n elements onto itself.">HPCombi::Perm16</a> and <a class="el" href="classHPCombi_1_1BMat8.html" title="Boolean matrices of dimension up to 8×8, stored as a single uint64; isomorph to binary relations with...">HPCombi::BMat8</a>.</p>
<h1><a class="anchor" id="Parallelism"></a>
Parallelism</h1>
<p>There is no parallelisation here. To use parallelism with this lib, see for instance:</p><ul>
<li>Florent Hivert, High Performance Computing Experiments in Enumerative and Algebraic Combinatorics (<a href="https://plouffe.fr/OEIS/citations/3115936.3115938.pdf">pdf</a>, <a href="https://dx.doi.org/10.1145/3115936.3115938">DOI</a>).</li>
<li><a href="https://github.com/OpenCilk/">OpenCilk</a> or look for another work stealing framework.</li>
</ul>
<p>Cilk is based on C++ and essentially adds the keywords <code>spawn</code> and <code>sync</code> to ease parallelism. Intel decided not to maintain Cilk anymore so it is deprecated. <a href="https://github.com/OpenCilk/">OpencilK</a> is an open source project to continue it.</p>
<p>We tested OpenMP and it was 2 orders of magnitude slower.</p>
<p>OpencilK adds the keyword <code>spawn</code>, which adds a special tag to the stack and launches a recursive call. If a thread finishes its work, it will look at other threads' stacks and steal their work. The value of Cilk is that recursive calls cost only 4 or 5 times more, much faster than launching true threads (which would take 6-7 orders of magnitude more time to create, measured in μs).</p>
<p>OpencilK provides some primitives for concurrent access to data. It guarantees the semantics of serial execution. </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
